function crypt(){document.getElementById("encrypt").checked?encrypt():fetchDiary()}function fetchDiary(){var r=new XMLHttpRequest;r.open("GET","encrypted-content.html?_="+(new Date).getTime(),!0),uncache(r),r.onloadstart=function(){container.innerText="Loading..."},r.onerror=function(){alert("Failed fetching encrypted diary.")},r.onload=function(){var e=document.getElementById("diary-container"),t=document.getElementById("password").value,n=CryptoJS.AES.decrypt(r.responseText,t);e.innerHTML=n.toString(CryptoJS.enc.Utf8)},r.send(null)}function encrypt(){var n=new XMLHttpRequest;n.open("GET","content.html?_="+(new Date).getTime(),!0),uncache(n),n.onerror=function(){alert("Failed fetching diary.")},n.onload=function(){var e=document.getElementById("password").value,t=CryptoJS.AES.encrypt(n.responseText,e);navigator.clipboard.writeText(t),alert("\ud83d\udc4c")},n.send(null)}function uncache(e){e.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),e.setRequestHeader("Expires","Tue, 01 Jan 1980 1:00:00 GMT"),e.setRequestHeader("Pragma","no-cache")}